<!doctype html>
<html lang="en">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Confirmation — GoGlobal</title>
<link rel="stylesheet" href="flights.css"></head>
<body>
<header class="gg-header"><div class="container header-inner"><a class="logo" href="index.html">Go-Global Recruitment</a></div></header>
<main class="container" style="padding-top:20px">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <div>
      <div style="font-size:12px;color:var(--muted)">Booking confirmed</div>
      <div style="font-size:22px;font-weight:800">Thank you — your booking is confirmed</div>
    </div>
    <div><button onclick="window.print()" class="btn">Print</button></div>
  </div>

  <section style="margin-top:18px;background:var(--card);padding:16px;border-radius:12px;border:1px solid #eef2f6">
    <div id="receipt"></div>
  </section>
</main>

<script>
const receipt = JSON.parse(sessionStorage.getItem('gg_receipt')||'null');
const booking = JSON.parse(sessionStorage.getItem('gg_booking')||'null');
if(!receipt){ document.getElementById('receipt').innerHTML = '<div style="color:var(--muted)">No payment record found. Return to bookings.</div>'; }
else{
  document.getElementById('receipt').innerHTML = `
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div>
        <div style="font-weight:700">Booking reference</div>
        <div style="font-size:20px;margin-top:6px">${receipt.ref}</div>
      </div>
      <div style="text-align:right">
        <div style="font-weight:700">Status</div>
        <div style="margin-top:6px;color:green">${receipt.status}</div>
      </div>
    </div>
    <hr style="margin:12px 0"/>
    <div><strong>Flight</strong> ${booking.airline} • ${booking.origin} → ${booking.dest}</div>
    <div style="margin-top:6px"><strong>Seats</strong> ${booking.seats?.join(', ') || '—'}</div>
    <div style="margin-top:6px"><strong>Paid at</strong> ${new Date(receipt.paidAt).toLocaleString()}</div>
    <div style="margin-top:12px"><strong>Total paid</strong> ZAR ${Number(receipt.total||booking.price).toLocaleString()}</div>
  `;
}
</script>
</body>
</html>
