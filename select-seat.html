<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Select Seats â€” Booking.com International</title>
<link rel="stylesheet" href="css/booking.css">
<style>
body { font-family:'Segoe UI',sans-serif; background:#f5f7fa; margin:0; padding:0; color:#1a1a1a; }
.main-container { max-width:1000px; margin:24px auto; padding:0 16px;}
.card { background:#fff; border-radius:12px; padding:24px; margin-bottom:24px; border:1px solid #e2e8f0; box-shadow:0 4px 20px rgba(0,0,0,0.05);}
.card h2 { margin:0 0 16px 0; font-size:22px; font-weight:700;}
.seat-map { display:grid; grid-template-columns: repeat(6, 50px); gap:8px; justify-content:center; margin:24px 0;}
.seat { width:50px; height:50px; background:#e2e8f0; border-radius:6px; display:flex; align-items:center; justify-content:center; cursor:pointer; font-weight:600; transition:all 0.2s ease;}
.seat.selected { background:#0071c2; color:white; }
.seat.occupied { background:#94a3b8; cursor:not-allowed; }
.seat-label { text-align:center; margin-bottom:8px; font-size:14px; font-weight:600; }
.select-btn { width:100%; background:linear-gradient(135deg,#0071c2 0%,#005999 100%); color:white; border:none; padding:12px; border-radius:8px; font-weight:700; cursor:pointer; font-size:16px; transition:all 0.3s ease;}
.select-btn:hover { background:linear-gradient(135deg,#005999 0%,#004080 100%); transform:translateY(-1px); box-shadow:0 4px 12px rgba(0,113,194,0.3);}
.price-summary { text-align:right; font-weight:700; margin-top:16px; font-size:16px; }
.back-link { display:inline-block; margin-bottom:16px; }
@media(max-width:600px){ .seat-map { grid-template-columns: repeat(3, 50px); gap:6px;} }
</style>
</head>
<body>

<div class="main-container">

  <a href="booking-confirmation.html" class="back-link">&larr; Back to summary</a>

  <div class="card">
    <h2>Select Your Seats</h2>
    <div id="seatLegend" style="margin-bottom:16px;">
      <span style="display:inline-block;width:20px;height:20px;background:#e2e8f0;border-radius:4px;margin-right:4px;"></span> Available
      <span style="display:inline-block;width:20px;height:20px;background:#0071c2;border-radius:4px;margin:0 4px 0 16px;"></span> Selected
      <span style="display:inline-block;width:20px;height:20px;background:#94a3b8;border-radius:4px;margin:0 4px 0 16px;"></span> Occupied
    </div>

    <div class="seat-map" id="seatMap">
      <!-- Seats dynamically generated -->
    </div>

    <div class="price-summary" id="totalPrice">Total: ZAR 0</div>
    <button id="continueBtn" class="select-btn">Continue to Confirmation</button>
  </div>

</div>

<script>
// Dummy seat map
const seatRows = 10;
const seatCols = 6;
const seatPrice = 50; // per seat
let selectedSeats = [];
const occupiedSeats = ['1A','1B','2C','3D']; // dummy occupied

const seatMapContainer = document.getElementById('seatMap');

function generateSeats() {
  const rows = 'ABCDEFGHIJ';
  for (let r = 0; r < seatRows; r++) {
    for (let c = 0; c < seatCols; c++) {
      const seatId = `${r+1}${String.fromCharCode(65+c)}`;
      const seatDiv = document.createElement('div');
      seatDiv.className = 'seat';
      seatDiv.textContent = seatId;
      if (occupiedSeats.includes(seatId)) seatDiv.classList.add('occupied');
      seatDiv.addEventListener('click', () => toggleSeat(seatId, seatDiv));
      seatMapContainer.appendChild(seatDiv);
    }
  }
}

function toggleSeat(seatId, seatDiv) {
  if (seatDiv.classList.contains('occupied')) return;
  if (seatDiv.classList.contains('selected')) {
    seatDiv.classList.remove('selected');
    selectedSeats = selectedSeats.filter(s => s!==seatId);
  } else {
    seatDiv.classList.add('selected');
    selectedSeats.push(seatId);
  }
  updateTotal();
}

function updateTotal() {
  const total = selectedSeats.length * seatPrice;
  document.getElementById('totalPrice').textContent = `Total: ZAR ${total}`;
}

document.getElementById('continueBtn').addEventListener('click', ()=>{
  if(selectedSeats.length===0){
    alert('Please select at least one seat.');
    return;
  }
  localStorage.setItem('selectedSeats', JSON.stringify(selectedSeats));
  window.location.href = 'booking-confirmation.html';
});

generateSeats();
</script>

</body>
</html>
